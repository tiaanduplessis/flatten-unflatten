!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.flattenUnflatten={})}(this,function(e){function r(e,r,t,n){void 0===r&&(r=""),void 0===n&&(n={});var i=n.delimiter;void 0===i&&(i=".");var o=n.force;void 0===o&&(o=!1);var u=n.mut;void 0===u&&(u=!1);var a=r.split?r.split(i):[r],d=u?e:function(e){return JSON.parse(JSON.stringify(e))}(e);return a.reduce(function(e,r,n,i){if(n!==i.length-1)return o&&!e[r]&&(e[r]={}),e[r];e[r]=t},d),d}e.flatten=function e(r,t){void 0===r&&(r={}),void 0===t&&(t={});var n=t.delimiter;void 0===n&&(n=".");var i=t.prevLevel;void 0===i&&(i="");var o=t.arrays;return void 0===o&&(o=!1),Object.keys(r).reduce(function(t,u){var a=i?""+i+n+u:u,d=r[u];return Array.isArray(d)&&!o?t[a]=d:"object"==typeof d&&null!==u?Object.assign(t,e(d,{delimiter:n,prevLevel:a,arrays:o})):t[a]=d,t},{})},e.unflatten=function(e,t){void 0===e&&(e={});var n=Object.keys(e),i=Object.assign({force:!0},t);return n.reduce(function(t,n,o){return function(e,t,n,i){return void 0===i&&(i={}),u=n,void 0===(o=t)&&(o=[]),void 0===u&&(u=[]),Array.isArray(o)&&Array.isArray(u)&&o.length===u.length?t.reduce(function(e,t,o){return r(e,t,n[o],i)},e):r(e,t,n,i);var o,u}(t,n,e[n],i)},{})}});
//# sourceMappingURL=flatten-unflatten.umd.js.map
