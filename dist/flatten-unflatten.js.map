{"version":3,"file":"flatten-unflatten.js","sources":["../node_modules/set-nested-prop/dist/set-nested-prop.m.js","../src/index.js"],"sourcesContent":["function r(r,i,t,n){void 0===i&&(i=\"\"),void 0===n&&(n={});var e=n.delimiter;void 0===e&&(e=\".\");var o=n.force;void 0===o&&(o=!1);var u=n.mut;void 0===u&&(u=!1);var v=i.split?i.split(e):[i],d=u?r:function(r){return JSON.parse(JSON.stringify(r))}(r);return v.reduce(function(r,i,n,e){if(n!==e.length-1)return o&&!r[i]&&(r[i]={}),r[i];r[i]=t},d),d}export default function(i,t,n,e){return void 0===e&&(e={}),u=n,void 0===(o=t)&&(o=[]),void 0===u&&(u=[]),Array.isArray(o)&&Array.isArray(u)&&o.length===u.length?t.reduce(function(i,t,o){return r(i,t,n[o],e)},i):r(i,t,n,e);var o,u};\n//# sourceMappingURL=set-nested-prop.m.js.map\n","import set from 'set-nested-prop'\n\nexport function flatten (\n  obj = {},\n  { delimiter = '.', prevLevel = '', arrays = false } = {}\n) {\n  return Object.keys(obj).reduce((acc, key) => {\n    const newKey = prevLevel ? `${prevLevel}${delimiter}${key}` : key\n    const val = obj[key]\n\n    if (Array.isArray(val) && !arrays) {\n      acc[newKey] = val\n    } else if (typeof val === 'object' && key !== null) {\n      Object.assign(\n        acc,\n        flatten(val, { delimiter, prevLevel: newKey, arrays })\n      )\n    } else {\n      acc[newKey] = val\n    }\n\n    return acc\n  }, {})\n}\n\nexport function unflatten (obj = {}, config) {\n  const keys = Object.keys(obj)\n  const conf = Object.assign({ force: true }, config)\n  return keys.reduce((acc, key, i) => {\n    const val = obj[key]\n    return set(acc, key, val, conf)\n  }, {})\n}\n"],"names":["r","i","t","n","e","delimiter","o","force","u","mut","v","split","d","JSON","parse","stringify","reduce","length","flatten","obj","ref","Object","keys","acc","key","const","newKey","prevLevel","val","Array","isArray","arrays","assign","config","conf","set"],"mappings":"AAAA,SAASA,EAAEA,EAAEC,EAAEC,EAAEC,QAAG,IAASF,IAAIA,EAAE,SAAI,IAASE,IAAIA,MAAM,IAAIC,EAAED,EAAEE,eAAU,IAASD,IAAIA,EAAE,KAAK,IAAIE,EAAEH,EAAEI,WAAM,IAASD,IAAIA,GAAE,GAAI,IAAIE,EAAEL,EAAEM,SAAI,IAASD,IAAIA,GAAE,GAAI,IAAIE,EAAET,EAAEU,MAAMV,EAAEU,MAAMP,IAAIH,GAAGW,EAAEJ,EAAER,EAAE,SAASA,GAAG,OAAOa,KAAKC,MAAMD,KAAKE,UAAUf,IAA7C,CAAkDA,GAAG,OAAOU,EAAEM,OAAO,SAAShB,EAAEC,EAAEE,EAAEC,GAAG,GAAGD,IAAIC,EAAEa,OAAO,EAAE,OAAOX,IAAIN,EAAEC,KAAKD,EAAEC,OAAOD,EAAEC,GAAGD,EAAEC,GAAGC,GAAGU,GAAGA,kBCEhV,SAASM,EACdC,EACAC,0EAAc,sCAAiB,mBAE/B,uBAF4C,GAErCC,OAAOC,KAAKH,GAAKH,gBAAQO,EAAKC,GACnCC,IAAMC,EAASC,KAAeA,EAAYtB,EAAYmB,EAAQA,EACxDI,EAAMT,EAAIK,GAahB,OAXIK,MAAMC,QAAQF,KAASG,EACzBR,EAAIG,GAAUE,EACU,iBAARA,GAA4B,OAARJ,EACpCH,OAAOW,OACLT,EACAL,EAAQU,aAAOvB,EAAWsB,UAAWD,SAAQK,KAG/CR,EAAIG,GAAUE,EAGTL,0BAIX,SAA2BJ,EAAUc,sBACnCR,IAAMH,EAAOD,OAAOC,KAAKH,GACnBe,EAAOb,OAAOW,QAASzB,OAAO,GAAQ0B,GAC5C,OAAOX,EAAKN,gBAAQO,EAAKC,EAAKvB,GAE5B,OD9BqV,SAAwBA,EAAEC,EAAEC,EAAEC,GAAG,YAAO,IAASA,IAAIA,MAAMI,EAAEL,OAAE,KAAUG,EAAEJ,KAAKI,WAAM,IAASE,IAAIA,MAAMqB,MAAMC,QAAQxB,IAAIuB,MAAMC,QAAQtB,IAAIF,EAAEW,SAAST,EAAES,OAAOf,EAAEc,OAAO,SAASf,EAAEC,EAAEI,GAAG,OAAON,EAAEC,EAAEC,EAAEC,EAAEG,GAAGF,IAAIH,GAAGD,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,IAAIE,EAAEE,EC8BljB2B,CAAIZ,EAAKC,EADJL,EAAIK,GACUU"}